<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Model Usage - Laser Prediction Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Model Usage";
        var mkdocs_page_input_path = "model.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Laser Prediction Documentation
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../prerequisites/">Prerequisites</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../usage/">Usage</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Model Usage</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#table-of-contents">Table of Contents</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#technologies">Technologies</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#project-structure">Project Structure</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#setup-and-deployment">Setup and Deployment</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#building-the-docker-image">Building the Docker Image</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#deploying-to-aws-lambda">Deploying to AWS Lambda</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#sample-input">Sample Input</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sample-output">Sample Output</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#contributions">Contributions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#license">License</a>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Laser Prediction Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Model Usage</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="project-overview">Project Overview</h1>
<p>Welcome to our AWS Lambda-based machine learning project. This project leverages a suite of technologies and tools, including PyCaret for machine learning, Docker for containerization, and AWS Lambda for scalable, serverless computing.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#technologies">Technologies</a></li>
<li><a href="#project-structure">Project Structure</a></li>
<li><a href="#setup-and-deployment">Setup and Deployment</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#building-the-docker-image">Building the Docker Image</a></li>
<li><a href="#deploying-to-aws-lambda">Deploying to AWS Lambda</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a></li>
<li><a href="#contributions">Contributions</a></li>
<li><a href="#license">License</a></li>
</ol>
<h2 id="introduction">Introduction</h2>
<p>The purpose of this project is to create a scalable and efficient machine learning service using AWS Lambda. The service predicts outcomes based on input data by leveraging a pre-trained machine learning model created with PyCaret. Docker is used to containerize the application, making it easier to deploy and manage.</p>
<h2 id="technologies">Technologies</h2>
<p>The following technologies and tools are used in this project:</p>
<ul>
<li><strong>PyCaret</strong>: A low-code machine learning library that automates the entire machine learning workflow.</li>
<li><strong>Docker</strong>: A platform for developing, shipping, and running applications inside containers.</li>
<li><strong>AWS Lambda</strong>: A serverless compute service that runs your code in response to events and automatically manages the underlying compute resources.</li>
<li><strong>Amazon Elastic Container Registry (ECR)</strong>: A fully-managed Docker container registry that makes it easy to store, share, and deploy container images.</li>
<li><strong>AWS CLI</strong>: A unified tool to manage AWS services from the command line.</li>
</ul>
<h2 id="project-structure">Project Structure</h2>
<p>├── artifacts 
│ └── models 
│ └── laser_pycaret_pipeline.pkl 
├── app 
│ └── lambda.py 
├── .dockerignore 
├── Dockerfile 
├── requirements.txt 
└── README.md</p>
<ul>
<li><strong>artifacts/models/</strong>: Directory containing the machine learning model.</li>
<li><strong>app/lambda.py</strong>: Main Python script for the AWS Lambda function.</li>
<li><strong>Dockerfile</strong>: Defines the Docker image for the Lambda function.</li>
<li><strong>requirements.txt</strong>: Lists the Python dependencies required by the project.</li>
<li><strong>README.md</strong>: This documentation file.</li>
</ul>
<h2 id="setup-and-deployment">Setup and Deployment</h2>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Docker installed locally.</li>
<li>An AWS account with permissions to create and manage AWS Lambda functions.</li>
<li>AWS CLI configured with your AWS credentials.</li>
</ul>
<h3 id="building-the-docker-image">Building the Docker Image</h3>
<p>To build the Docker image, run the following command in the root directory of the project:</p>
<pre><code class="language-sh">docker build -t my-ml-service .
</code></pre>
<h3 id="deploying-to-aws-lambda">Deploying to AWS Lambda</h3>
<ol>
<li>
<p><strong>Push Docker Image to Amazon ECR</strong>:</p>
<ul>
<li>Authenticate Docker to your Amazon ECR registry:
  <code>sh
  aws ecr get-login-password --region &lt;your-region&gt; | docker login --username AWS --password-stdin &lt;your-account-id&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com</code></li>
<li>Create an ECR repository:
  <code>sh
  aws ecr create-repository --repository-name my-ml-service</code></li>
<li>Tag the Docker image:
  <code>sh
  docker tag my-ml-service:latest &lt;your-account-id&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com/my-ml-service:latest</code></li>
<li>Push the Docker image:
  <code>sh
  docker push &lt;your-account-id&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com/my-ml-service:latest</code></li>
</ul>
</li>
<li>
<p><strong>Create the Lambda Function</strong>:</p>
<ul>
<li>Create the Lambda function using the container image:
  <code>sh
  aws lambda create-function --function-name my-ml-service \
  --package-type Image \
  --code ImageUri=&lt;your-account-id&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com/my-ml-service:latest \
  --role arn:aws:iam::&lt;your-account-id&gt;:role/&lt;your-lambda-role&gt;</code></li>
</ul>
</li>
</ol>
<h2 id="usage">Usage</h2>
<p>Once deployed, the AWS Lambda function can be invoked using the AWS Lambda Console, AWS CLI, or programmatically via an API Gateway. The function expects input data in JSON format, and will return a prediction based on the PyCaret model.</p>
<h3 id="sample-input">Sample Input</h3>
<pre><code class="language-json">{
  &quot;body&quot;: &quot;{\&quot;Longitude Corte (m)\&quot;: 123.456, \&quot;Espesor\&quot;: 78.9}&quot;
}
</code></pre>
<h3 id="sample-output">Sample Output</h3>
<pre><code class="language-json">{
  &quot;statusCode&quot;: 200,
  &quot;body&quot;: &quot;{\&quot;prediction\&quot;: [1]}&quot;
}
</code></pre>
<h2 id="contributions">Contributions</h2>
<p>Contributions to the project are welcome! Please create a pull request or open an issue to discuss any changes.</p>
<h2 id="license">License</h2>
<p>This project is licensed under the MIT License - see the <a href="LICENSE">LICENSE</a> file for details.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../usage/" class="btn btn-neutral float-left" title="Usage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../usage/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
